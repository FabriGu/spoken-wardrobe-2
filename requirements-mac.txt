# Mac-Specific Dependencies (Apple Silicon M1/M2/M3)
# ===================================================
# Install AFTER requirements-core.txt

# AI/ML Frameworks
# -----------------

# PyTorch with MPS (Metal Performance Shaders) support
torch==2.1.0
torchvision==0.16.0
torchaudio==2.1.0

# Hugging Face Transformers (for Whisper speech recognition)
transformers==4.35.2

# Stable Diffusion
diffusers==0.24.0
accelerate==0.25.0

# Background removal for TripoSR
rembg==2.0.56

# TensorFlow (Mac version with Apple Silicon support)
# IMPORTANT: Use tensorflow-macos, NOT regular tensorflow!
tensorflow-macos==2.15.0
tensorflow-metal==1.1.0  # GPU acceleration for Apple Silicon

# Associated TensorFlow packages (auto-installed but pinned for safety)
tensorboard==2.15.2
keras==2.15.0
tensorflow-estimator==2.15.0
ml-dtypes==0.2.0  # Downgraded from 0.5.3 for compatibility
protobuf==4.25.8  # Downgraded from 5.29.5 for compatibility

# BodyPix (for body segmentation)
# NOTE: tf-bodypix has compatibility issues!
# Use: pip install tf-bodypix==0.1.0 (NOT tf-bodypix[all])
tf-bodypix==0.1.0
tfjs-graph-converter==1.3.0  # Requires manual patch (see SETUP_GUIDE.md)

# OAK-D Pro Dependencies
# ----------------------
depthai==2.24.0.0
opencv-contrib-python==4.8.1.78
open3d==0.18.0
blobconverter==1.4.2

# Mesh Rigging (for clothing animation)
# --------------------------------------
# gpytoolbox for Linear Blend Skinning
gpytoolbox==0.2.0

# MANUAL PATCH REQUIRED:
# ----------------------
# After installing tfjs-graph-converter, you MUST apply this patch:
#
# File: venv/lib/python3.11/site-packages/tfjs_graph_converter/util.py
# Line 30: Change np.bool to np.bool_
#
# This fixes a NumPy 1.23+ compatibility issue.
# See SETUP_GUIDE.md for detailed instructions.
